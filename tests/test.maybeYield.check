#!/usr/bin/env python

# This script ensures that at some point during the output stream, we
# switch threads having run all the possible threads. In other words,
# that we don't run each thread in full before continuing.

import sys

counts  = [0,0,0,0,0,0,0,0,0,0]
lastNum = -1

def allNonZero(counts):
  for i in [0,1,2,3,4,5,6,7,8,9]:
    if counts[i] == 0:
      return False
  return True

ls = []
for line in sys.stdin:
   if line[:6] == "Thread":
      threadCharNum      = line[8]
      threadNum          = ord(threadCharNum) - ord('0')
      if threadNum != lastNum:
        ls.append("thread {}".format(threadNum))
      counts[threadNum] += 1
      lastNum            = threadNum

if len(ls) > 10:
    sys.exit(0)
else:
    sys.exit(-5)
